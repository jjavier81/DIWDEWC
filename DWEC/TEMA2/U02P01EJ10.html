<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Unidad 2. Practica 1. Ejercicio 9.</title>
    <script type="text/javascript">
    /*----------------EJERCICIO 6------------------------*/

    /*Ejercicio 4*/
    function Persona(nombre, apellidos) {
      this.nombre = nombre || "Anónimo";
      this.apellidos = apellidos;
      this.saludar = function () {
        console.log("Hola me llamo " + this.nombre + " " + this.apellidos);
      }
    }
    /*Fin Ejercicio 4*/
    /*a. Incorpora el atributo Estudios
      b. Incorpora el atributo NotaMedia (redondeada a 2 decimales)
        Pista: emplea el método toFixed() para poder hacer el redondeo del número que pase el usuario
      c. Incorpora el método Recuperar() que permitirá poner una nota de 5 a los alumnos con nota inferior a 5.*/

    function Estudiante(nombre, apellidos, estudios, notamedia) {
      Persona.call(this,nombre, apellidos);
      this.estudios = estudios;
      this.notamedia = notamedia.toFixed(2);
      this.recuperar = function() {
        if (this.notamedia < 5) {
          this.notamedia = 5;
        }
      }
      this.crearPaswword = function() {
        /*La primera letra del nombre en mayúsculas.*/
        var primera = ((this.nombre).charAt(0)).toLocaleUpperCase();
        /*El apellido en minúsculas en el que reemplaces las e’s por 3 y las a’s por 4’s*/
        var losdosapellidos = (this.apellidos).split(" ");
        var apellido1 = (losdosapellidos[0]).toLocaleLowerCase();		
		while (apellido1.search("e") >= 0) {
			var apellido1 = apellido1.replace("e","3");
		}
		while (apellido1.search("a") >= 0) {
			var apellido1 = apellido1.replace("a","4");
		}
        /*El número de letras del nombre*/
        var numeronombre = (this.nombre).length;
        /*resultado*/
        var password = primera.concat(apellido1.concat(numeronombre));
        document.write(this.nombre + " " + this.apellidos + " tendra el password: " + password + " #<br />");
      }
    }

    /*d. Crea un array utilizando new Array llamado Lista. Incluye en ese array 3
    objetos alumno de ejemplo. Crea esos objetos utilizando el constructor.*/

    var Lista = new Array(3);
    Lista[0] = new Estudiante("Pepito", "Perez Lorente", "DAW", 3.599);
    Lista[1] = new Estudiante("Jesus", "Gil Manzano", "DAW", 6.799);
    Lista[2] = new Estudiante("Kun", "Agüero Martinez", "DAW", 4.899);

    /*-----------FIN EJERCICIO 6---------------*/

    </script>
  </head>
  <body>
    <p>
      <b>
        10. Crea el método crearPassword() del objeto Estudiante y empléalo en un ejemplo.
        El método devuelve el password del estudiante y lo forma con la concatenación de:
      </b>
    </p>
    <ol>
      <li><b>La primera letra del nombre en mayúsculas.</b></li>
	  <p><font color='blue'>var primera = ((this.nombre).charAt(0)).toLocaleUpperCase(); </font></p>
      <li><b>El apellido en minúsculas en el que reemplaces las e’s por 3 y las a’s por 4’s</b></li>
	  <p><font color='blue'>
		
			var losdosapellidos = (this.apellidos).split(" ");<br />
			var apellido1 = (losdosapellidos[0]).toLocaleLowerCase();<br />
			while (apellido1.search("e") >= 0) {<br />
			&nbsp;&nbsp;var apellido1 = apellido1.replace("e","3");<br />
			}<br />
			while (apellido1.search("a") >= 0) {<br />
			&nbsp;&nbsp;var apellido1 = apellido1.replace("a","4");<br />
			}<br />
		
	   </font></p>	 
      <li><b>El número de letras del nombre</b></li>
	  <p><font color='blue'>var numeronombre = (this.nombre).length;</font></p>
      <li><b>Por ejemplo, Ana Sánchez tendrá el password: As4nch3z3</b></li>
	  <p><font color='blue'>
		var password = primera.concat(apellido1.concat(numeronombre));<br />
        document.write(this.nombre + " " + this.apellidos + " tendra el password: " + password + " #< br />");
	   </font></p>
    </ol>
    <p><b>Resultado:</b></p>
    <script type="text/javascript">
      for(var i = 0; i < Lista.length; i++) {
        Lista[i].crearPaswword();
      }
    </script>
	<p><font color='blue'>
		for(var i = 0; i < Lista.length; i++) {
        &nbsp;&nbsp;Lista[i].crearPaswword();
		}
	 </font></p>
  </body>
</html>
